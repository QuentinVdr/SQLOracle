-- Drop les table existantes
DROP TABLE SJV_JEUX;

DROP TABLE SJV_CATEGORIES;

CREATE TABLE SJV_CATEGORIES (
  CODE VARCHAR(5) NOT NULL,
  PAYS VARCHAR(2) NOT NULL,
  LIBELLE VARCHAR(20) UNIQUE,
  CONSTRAINT PK_CATEGORIES PRIMARY KEY (CODE, PAYS)
);

CREATE TABLE SJV_JEUX (
  TITRE VARCHAR(50) NOT NULL PRIMARY KEY,
  ANNEE_SORTIE INT CHECK (ANNEE_SORTIE BETWEEN 0 AND 9999) NOT NULL,
  CODE_CATEGORIE VARCHAR(5) NOT NULL,
  CODE_PAYS VARCHAR(2) NOT NULL,
  CONSTRAINT FK_CATEGORIES FOREIGN KEY (CODE_CATEGORIE, CODE_PAYS) REFERENCES SJV_CATEGORIES(CODE, PAYS)
);
